!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<style>
#map {
    position: fixed;
    width:50%;
}
#features {
    width: 50%;
    margin-left: 50%;
    font-family: Tw Cen MT;
    overflow-y: scroll;
    background-color: #fafafa;
}
section {
    padding:  25px 50px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 20px;
}
section.active {
    opacity: 1;
}
section:last-child {
    border-bottom: none;
    margin-bottom: 1000px;
}
</style>

<div id='map'></div>
<div id='features'>
    <section id='welcome' class='active'>
        <h3>Hey, there!</h3>
    </section>
    <p>Welcome to my resumap - built using Mapbox! A list of skills, capabilities, and experiences resume can only say so much. <br><br>My resumap is designed to  are designed to illustrate my resume as well as to provide a fun way to help you get to know me. ðŸš€<br><br> And I make maps - so I'm going to tell you my story using this resumap! ðŸ¤–</p>
    <section id='youth-ma' class='active'>
        <h3>1. Youth in MA</h3>
        <p>I grew up in a lovely small town called Whitinsville, MA, where my youth was filled with school, church, and family activities. In school, everybody did extracurricular activities - my choices were soccer, basketball, orchestra, and choir.
    </section>
    <section id='jmu'>
        <h3>2. Off to JMU</h3>
        <p>For college, I followed my big sister south of the Mason-Dixon to the Commonwealth of Virginia. At James Madison, I was exposed to GIS for the first time and saw that it was a natural fit for my interests - maps, geography, and working with computers - Nice!</p>
    </section>
    <section id='uganda'>
        <h3>3. Uganda</h3>
        <p>After college, I was given the opportunity to map clean water sources while working with a water engineer in Uganda. This exposed me to international work and changed the direction that I wanted to take my career. <br><br> <img src="https://i.imgur.com/NF8af.jpg"><br><br></p>
    </section>
    <section id='working-man'>
        <h3>4. Working man</h3>
        <p>Or even gifs! <br><br><iframe src="https://giphy.com/embed/fpXxIjftmkk9y" width="224" height="240" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p></p>
        </p>
    </section>
    <section id='clark'>
        <h3>5. Back home for grad school @Clark</h3>
        <p>Or videos! WHAT!<br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/le0BLAEO93g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe> </p>
    </section>
    <section id='drc'>
        <h3>6. Job in the jungle</h3>
        <p>I had an awesome opportunity to work at the <i>Okapi Wildife Reserve</i> in DRC for a few years.</p>
        <p>Amazing neighbors playing in the trees right above my house!<br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/PjqdGt_Lw7M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe> </p>
    </section>
    <section id='seattle'>
        <h3>7. Settling in Seattle</h3>
        <p>Have fun!<br><br><iframe src="https://giphy.com/embed/lJNoBCvQYp7nq" width="300" height="300" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p></p></p>
    </section>
</div>
<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoiam1hc3NlbGluayIsImEiOiJabWhkUG5NIn0.6xSjdgz2QoNbWb-7F4BqDg';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/jmasselink/cjjf7bgby12zm2so88p19hwvk',
        bearing: -0,
        center: [-108.866174, 49.272291],
        zoom: 2,
        speed: 0.8,
        pitch: 0
});
var chapters = {
    'welcome': {
        bearing: -0,
        center: [-108.866174, 49.272291],
        zoom: 2,
        speed: 0.8,
        pitch: 0
    },
    'youth-ma': {
        bearing: 0,
        center: [-71.664, 42.106],
        zoom: 13,
        pitch: 0
    },
    'jmu': {
        center: [-78.874, 38.440],
        bearing: 54.40,
        zoom: 13.1,
        speed: 0.6,
        pitch: 44.50
    },
    'uganda': {
        bearing: 12.80,
        center: [30.014, 0.672],
        zoom: 11.72,
        speed: 0.6,
        pitch: 0.00
    },
    'working-man': {
        bearing: 0,
        center: [-78.470, 38.081],
        zoom: 12,
        speed: 0.6,
        pitch: 45
    },
    // 'working-man-ca': {
    //     bearing: 0,
    //     center: [-116.011, 34.230],
    //     zoom: 9.4,
    //     speed: 0.6,
    //     pitch: 45
    // },
    // 'working-man-al': {
    //     bearing: 0,
    //     center: [-85.800, 33.693],
    //     zoom: 11.8,
    //     speed: 0.6,
    //     pitch: 45
    // },
    'clark': {
        bearing: 0,
        center: [-71.823,42.251],
        zoom: 16,
        pitch: 10,
        speed: 0.6
    },
    'drc': {
        bearing: 0,
        center: [28.559615, 1.663955],
        zoom: 8,
        pitch: 0,
        speed: 0.6
    },
    'seattle': {
        center: [-122.316235, 47.605958],
        bearing: 54.40,
        zoom: 12.59,
        speed: 0.6,
        pitch: 44.50
    },
};
// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};
var activeChapterName = 'baker';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;
    map.flyTo(chapters[chapterName]);
    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');
    activeChapterName = chapterName;
}
function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}
</script>
</body>
</html>
