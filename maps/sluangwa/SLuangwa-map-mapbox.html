<!DOCTYPE html>
<html>
<head>
	<title>Mapbox GL JS</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
	<link rel='stylesheet'href='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css'/>
	<!-- <script src='https://api.mapbox.com/mapbox.js/plugins/turf/v2.0.2/turf.min.js'></script> not sure TurfJS is compatiable w/ mapbox-gl-js -->
	<script src="geojson/BushcampCo-sites.geojson" type="text/javascript"></script>
	<style>
		body { margin:0; padding:5; }
		#map { width: 100%; height: 100%;}
		/*#fitBounds {
			background-color: #ee8a65;
			 font-family: Helvetica, Arial, Sans-Serif;
			 color: #fff;
			 position: absolute;
			 top: 1em;
			 right: 1em;
			 padding: 0.7em;
			 border-radius: 0.2em;
			 cursor: pointer;
		}*/
	</style>
</head>
<body>
	<div id="map" style="width: 100%; height: 100%"></div>
<!-- adapted from https://bl.ocks.org/danswick/83a8ddff7fb9193176a975a02a896792 -->
	<div id='fitBounds' onclick='fit()'>fit to points</div>
	<script>
		mapboxgl.accessToken = 'pk.eyJ1IjoidmpvZWxtIiwiYSI6ImNpZ3RzNXdmeDA4cm90N2tuZzhsd3duZm0ifQ.YcHUz9BmCk2oVOsL48VgVQ'
		var map = new mapboxgl.Map({
				container: 'map', // container id
			  style: 'mapbox://styles/vjoelm/cityu41cn00dm2inzy1hg67vt', //stylesheet location
				interactive: true,
				center: [31.8149, -13.3806], // map center
				zoom: 8 // starting zoom;
		});

		map.on('load', function(){
			// Add a geojson point source
			map.addSource('bushcamp', {
				type: 'geojson',
				data: './assets/BushcampCo-sites.geojson'
			})

    map.addLayer({
        id: "bushcamp",
				source: 'bushcamp', //"geojson/BushcampCo-sites.geojson",
			// Symbolize circle
				// type: "circle",
				// paint: {'circle-color': "#B42222",
				// 	'circle-radius': 6},
			// Symbolize icon
				type: "symbol",
				layout: {	// 'properties': {
							// 'title': 'site',
							'icon-image': 'lodging-15',
							'icon-size': 1,
							// 'icon-color': 'red',
							'text-field': "{site}",
							'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold']
					}
				// },
				// icon-image: {
    });
	});

	</script>
</body>
</html>
